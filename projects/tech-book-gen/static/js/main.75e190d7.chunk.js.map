{"version":3,"sources":["index.js"],"names":["App","props","state","title","subTitle","author","lead","animal","color","handleTitleChange","bind","handleSubTitleChange","handleAuthorChange","handleLeadChange","handleAnimalChange","handleColorChange","handleOnGenerate","event","this","setState","target","value","preventDefault","htmlToImage","document","getElementById","then","dataUrl","blob","fileName","elem","window","createElement","href","download","style","body","documentElement","appendChild","click","dispatchEvent","MouseEvent","view","bubbles","cancelable","URL","revokeObjectURL","remove","saveAs","class","type","name","onChange","placeholder","id","background","selected","Preview","onClick","className","dangerouslySetInnerHTML","ads","React","Component","bgColor","imgSrc","process","length","replace","src","__html","ReactDOM","render"],"mappings":"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","file":"static/js/main.75e190d7.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as htmlToImage from 'html-to-image';\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      title:'Javascript',\n      subTitle:'入門',\n      author:'尾来　理太郎',\n      lead:'Javascript for Beginners',\n      animal:'owl',\n      color:'#009e9a',\n    }\n\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.handleSubTitleChange = this.handleSubTitleChange.bind(this);\n    this.handleAuthorChange = this.handleAuthorChange.bind(this);\n    this.handleLeadChange = this.handleLeadChange.bind(this);\n    this.handleAnimalChange = this.handleAnimalChange.bind(this);\n    this.handleColorChange = this.handleColorChange.bind(this);\n    this.handleOnGenerate = this.handleOnGenerate.bind(this);\n  }\n\n  handleTitleChange(event) {\n    this.setState({title: event.target.value});\n  }\n\n  handleSubTitleChange(event) {\n    this.setState({subTitle: event.target.value});\n  }\n\n  handleAuthorChange(event) {\n    this.setState({author: event.target.value});\n  }\n\n  handleColorChange(event) {\n    this.setState({color: event.target.value});\n  }\n\n  handleAnimalChange(event) {\n    this.setState({animal: event.target.value});\n  }\n\n  handleLeadChange(event) {\n    this.setState({lead: event.target.value});\n  }\n\n  handleOnGenerate(event){\n    event.preventDefault();\n\n    // https://betterprogramming.pub/heres-why-i-m-replacing-html2canvas-with-html-to-image-in-our-react-app-d8da0b85eadf\n    // https://javascript.plainenglish.io/export-react-components-as-images-15168b73b0eb\n    const saveAs = (blob, fileName) =>{\n      var elem = window.document.createElement('a');\n      elem.href = blob\n      elem.download = fileName;\n      elem.style = 'display:none;';\n      (document.body || document.documentElement).appendChild(elem);\n      if (typeof elem.click === 'function') {\n        elem.click();\n      } else {\n        elem.target = '_blank';\n        elem.dispatchEvent(new MouseEvent('click', {\n          view: window,\n          bubbles: true,\n          cancelable: true\n        }));\n      }\n      URL.revokeObjectURL(elem.href);\n      elem.remove()\n      }\n\n    htmlToImage.toPng(document.getElementById('preview-container'))\n      .then(function (dataUrl) {\n        saveAs(dataUrl, 'book-cover.png');\n      });\n  }\n\n\n  render(){\n    return ( \n      <>\n        <header>\n          <span class='nowrap'>存在しない技術書</span>\n          <span class='nowrap'>ジェネレーター</span>\n        </header>\n        <main class=\"container\">\n          <form>\n            <div>\n              <label>タイトル : (\\nで改行)</label>\n              <input type=\"text\" name=\"title\" onChange={this.handleTitleChange} placeholder='例) Javascript'/>\n            </div>\n            <div>\n              <label>サブタイトル :</label>\n              <input type=\"text\" name=\"subTitle\" onChange={this.handleSubTitleChange} placeholder='例) 入門' />\n            </div>\n            <div>\n              <label>著者 :</label>\n              <input type=\"text\" name=\"author\" onChange={this.handleAuthorChange}  placeholder='例) 尾来　理太郎'/>\n            </div>\n            <div>\n              <label>リード文 : (英字推奨)</label>\n              <input type=\"text\" name=\"lead\" onChange={this.handleLeadChange} placeholder='例) Javascript for Beginners' />\n            </div>\n            <div>\n              <label> 動物: </label>\n              <select onChange={this.handleAnimalChange} >\n                <option value='owl'>ふくろう</option>\n                <option value='owl2'>ふくろう 2</option>\n                <option value='armadillo'>あるまじろ</option>\n                <option value='penguin'>ぺんぎん</option>\n                <option value='crab'>かに</option>\n                <option value='horse'>うま</option>\n                <option value='horse2'>うま ２</option>\n                <option value='bat'>こうもり</option>\n                <option value='rat'>ねずみ</option>\n              </select>\n            </div>\n            <div>\n              <label> 色: </label>\n              <select id='color-select' onChange={this.handleColorChange} >\n                <option value='#65161c' style={{background:'#65161c'}}>茶色</option>\n                <option value='#941b2a' style={{background:'#941b2a'}}>あか　1</option>\n                <option value='#b80721' style={{background:'#b80721'}}>あか　2</option>\n                <option value='#e11105' style={{background:'#e11105'}}>あか　3</option>\n                <option value='#f7b500' style={{background:'#f7b500'}}>きいろ</option>\n                <option value='#6a8922' style={{background:'#6a8922'}}>みどり　1</option>\n                <option value='#378e19' style={{background:'#378e19'}}>みどり　2</option>\n                <option value='#008445' style={{background:'#008445'}}>みどり　3</option>\n                <option value='#00999d' style={{background:'#00999d'}} selected>みどり　4</option>\n                <option value='#067bb0' style={{background:'#067bb0'}}>あお　1</option>\n                <option value='#014284' style={{background:'#014284'}}>あお　2</option>\n                <option value='#000f76' style={{background:'#000f76'}}>あお　3</option>\n                <option value='#503dbd' style={{background:'#503dbd'}}>むらさき　1</option>\n                <option value='#a8009b' style={{background:'#a8009b'}}>むらさき　2</option>\n                <option value='#512885' style={{background:'#55135d'}}>むらさき　3</option>\n                <option value='#71706e' style={{background:'#71706e'}}>灰色</option>\n              </select>\n            </div>\n          </form>\n          <div class='preview-wrap'>\n            <h2>表紙プレビュー</h2>\n          <Preview\n            title={this.state.title}\n            subTitle={this.state.subTitle}\n            author={this.state.author}\n            lead={this.state.lead}\n            animal={this.state.animal}\n            color={this.state.color}\n          />\n          <button onClick={this.handleOnGenerate}>Download</button>\n          </div>\n          <div className=\"ads\" >\n            <div dangerouslySetInnerHTML={ads()} />\n          </div>\n        </main>\n      </>);\n  }\n}\n\nclass Preview extends React.Component{\n\n  render(){\n    const bgColor = this.props.color;\n    const imgSrc = `${process.env.PUBLIC_URL}/img/${this.props.animal}.png`;\n    const author = (this.props.author.length > 0) ? this.props.author + '　著' : '';\n    const title = this.props.title.replace('\\\\n', \"\\n\");\n    return (\n      <div id='preview-container' class='preview-container'>\n        <div class='head-square' style={{background:bgColor}}></div>\n        <div class='lead'>{this.props.lead}</div>\n        <img src={imgSrc} />\n        <div class='sub-title-container'>\n          {this.props.subTitle}\n        </div>\n        <div class='title-container' style={{background:bgColor}}>\n          {title}\n        </div>\n        <div class='author-container' >\n          {author}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst ads = () => {\n  return {__html:`<script async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2164726777115826\"\n     crossorigin=\"anonymous\"></script>\n<!-- tech-book -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-2164726777115826\"\n     data-ad-slot=\"4250433406\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n</script>`}\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}